---
title: "開發環境建置"
pageTitle: "開發環境建置"
contributors: ['spyua','Yawara0326']
---

## 1. 版控Tool簡易整理
  - Pyenv: Python
  - sdkman: JVM(Java、Kotlin、Gradle、etc.)
  - nvm: node/npm
  - dotnet: .NET Core/.NET
  - gvm:golang

## 2. Pyenv安裝 (WSL2) : 切換python版本使用

### a. 確認更新

```bash
sudo apt update && sudo apt upgrade -y
```

### b. 安裝必需的基礎工具

```bash
sudo apt update && sudo apt install -y \
  curl git build-essential libssl-dev zlib1g-dev libbz2-dev \
  libreadline-dev libsqlite3-dev wget llvm libncurses5-dev libncursesw5-dev \
  xz-utils tk-dev libffi-dev liblzma-dev
```

<details>
  <summary>項目</summary>
  
  - 基礎開發工具
    - build-essential：提供 gcc 編譯器和基本的編譯工具，編譯 Python 原始碼。
    - llvm：提供程式碼優化功能，可以提高 Python 的編譯效能。
  - 壓縮和解壓工具：
    - zlib1g-dev：支持多種壓縮功能，Python 的很多模組需要這個。
    - libbz2-dev：提供 bzip2 壓縮支持。
    - xz-utils：支持 xz 格式的壓縮檔案。
  - 網絡和安全相關：
    - curl 和 wget：下載資源的工具，用於從網路上獲取安裝檔案。
    - git：版本控制工具，常用於下載原始碼。
    - libssl-dev：提供 SSL/TLS 加密支持，讓 Python 能安全地處理 HTTPS 連接。
  - 系統庫支持：
    - libreadline-dev：改善 Python 互動 Shell 的使用體驗。
    - libsqlite3-dev：提供 SQLite 資料庫支持。
    - libncurses5-dev：支持終端界面應用程式。
    - libffi-dev：允許 Python 使用 C 語言擴展模組。
    - tk-dev：提供 Tkinter GUI 工具包，用於創建圖形界面。

</details>


### c. 安裝 pyenv

- 使用 curl 下載並安裝 pyenv：
```bash
curl https://pyenv.run | bash
```

- 如果 curl 指令無法使用，手動安裝：
```bash
git clone https://github.com/pyenv/pyenv.git ~/.pyenv
```

- 編輯配置檔案

```bash
nano ~/.bashrc      # 如果使用的是 Bash
nano ~/.zshrc       # 如果使用的是 Zsh
```
在檔案的最後新增以下內容

```bash
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv init -)"
```

重新加載配置檔案

```bash
source ~/.bashrc      # 如果使用的是 Bash
source ~/.zshrc       # 如果使用的是 Zsh
```

確認安裝是否成功

```bash
pyenv --version
```
## 3. 安裝python & FastAPI

- 安裝python

```bash
pyenv install 3.11.6  # 替換為需要的版本 (or 安裝)
pyenv global 3.11.6   # 設定全域版本
```

- 安裝FastAPI (最低要求：Python 3.8 或 3.9，不要使用：Python 3.7)

選擇 [FastAPI 的版本](https://pypi.org/project/fastapi/)

```bash
pip install fastapi --upgrade
```

其他工具相容建議

- 推薦 ASGI 服務器  : Uvicorn
- 數據建模 : Pydantic  
- 虛擬環境 : pyenv or venv

## 4. 如何建立虛擬環境 (virtualenv)

<p align="center">
  <img src="images/python/dev-env-build/python-virtualenv.png" width="50%" />
</p>

三個專案（project1、project2、project3），每個專案都有獨立的虛擬環境。這些虛擬環境各自管理不同的 Python 版本和套件。

虛擬環境的目的：

- 隔離依賴：每個專案的套件互不干擾，避免衝突。
- 靈活管理 Python 版本：專案可以針對特定版本進行測試和開發。
- 容易部署：記錄依賴並方便複製環境。

上圖的實際操作

```bash

# 安裝特定的 Python 版本
pyenv install 2.2.3
pyenv install 3.11.6

# 創建虛擬環境
pyenv virtualenv 2.2.3 project1-env  # project1 使用 Python 2.2
pyenv virtualenv 3.11.6 project2-env # project2 使用 Python 3
pyenv virtualenv 2.2.3 project3-env  # project3 使用 Python 2.2

#進入對應的專案目錄，設定當地的虛擬環境
cd project1
pyenv local project1-env

cd project2
pyenv local project2-env

cd project3
pyenv local project3-env
```

## 5. Visual Studio Tool建議安裝Extension (待完成)

## 推薦文章

1. [**理解 Python 後端技術：從 CGI 談到 WSGI, uWSGI 與 uwsgi**](https://myapollo.com.tw/blog/python-backend-cgi-wsgi-uwsgi-explanations/)
2. [**理解 Python 後端技術： ASGI (Asynchronous Server Gateway Interface) — WSGI 的繼承者**](https://myapollo.com.tw/blog/python-asgi-introduction/)
3. [**Python虛擬環境：venv vs. virtualenv**](https://vocus.cc/article/64fec089fd897800018b21c1)